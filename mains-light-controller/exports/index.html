<div id="pcb-layer-picker">
    <table>
        <tr>
            <th>Layer</th>
            <th>Copper</th>
            <th>Solder Mask</th>
            <th>Silkscreen</th>
            <th>Edge cuts</th>
        </tr>

        <tr>
            <td>Top</td>
            <td><input type="checkbox" name="copper:top" onclick="updateStack(this);" checked></td>
            <td><input type="checkbox" name="soldermask:top" onclick="updateStack(this);" checked></td>
            <td><input type="checkbox" name="silkscreen:top" onclick="updateStack(this);" checked></td>
            <td></td>
        </tr>
        <tr>
            <td>Bottom</td>
            <td><input type="checkbox" name="copper:bottom" onclick="updateStack(this);" checked></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>Other</td>
            <td></td>
            <td></td>
            <td></td>
            <td><input type="checkbox" name="edge-cuts" onclick="updateStack(this);" checked></td>
        </tr>
    </table>
</div>

<div id="pcb-stack">

    <!--svg id="circle" height="500" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
            <image x="0" y="0" height="500" width="500" xlink:href="mains-light-controller-Edge.Cuts.svg" />
        </svg-->

</div>


<script>

    let pcb_stack = document.getElementById("pcb-stack");
    let pcb_select = document.getElementById("pcb-layer-picker");
    let pcb_meta = [
        {
            "tag": "soldermask:top",
            "file_path": "mains-light-controller-F.Mask.svg",
            "color": "green",
            "group": "Soldermask",
            "layer": "Top",
            "display": true
        },
        {
            "tag": "edge-cuts",
            "file_path": "mains-light-controller-Edge.Cuts.svg",
            "color": "yellow",
            "group": "Edge Cuts",
            "layer": "Other",
            "display": true
        },
        {
            "tag": "copper:top",
            "file_path": "mains-light-controller-F.Cu.svg",
            "color": "red",
            "group": "Copper",
            "layer": "Top",
            "display": true
        },
        {
            "tag": "copper:bottom",
            "file_path": "mains-light-controller-B.Cu.svg",
            "color": "blue",
            "group": "Copper",
            "layer": "Bottom",
            "display": true
        },
        {
            "tag": "silkscreen:top",
            "file_path": "mains-light-controller-F.SilkS.svg",
            "color": "white",
            "group": "Silkscreen",
            "layer": "Top",
            "display": true
        }
    ];

    (() => {
        pcb_meta.forEach((layer) => {

            // render pcb stack
            let img = document.createElement("img");
            img.src = layer.file_path;
            img.id = layer.tag;
            img.hidden = !layer.display;
            pcb_stack.appendChild(img);
        });
    })();


    // show or hide picked layer
    function updateStack(cb) {
        document.getElementById(cb.name).hidden = !cb.checked;
    }

    
</script>


<style>
    body {
        margin: 0px
    }

    #pcb-layer-picker table {
        text-align: left;
        width: 495px;
    }

    #pcb-stack {
        position: relative;
    }

    #pcb-stack img {
        position: absolute;
        border: 1px dashed black;
    }
</style>